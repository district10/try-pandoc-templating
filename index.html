<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style> code { white-space: pre; } </style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
</head>
<body>
<code>
【下面是测试。我把缩进调整了，便于查看，实践中通常都不这样使用。】

0. 键值对：

key 的值是（【我是 key 的值】）。

1. 列表以及 sep 字段：

用空行和空格分隔的列表：
    [
                    file1.txt,
                    file2.txt,
                    file3.txt    ]，
用“|”分隔的列表：[file1.txt|file2.txt|file3.txt]。

2. 嵌套：

            他有几个男孩：
                    他叫 tom（他的兴趣是 吃大餐）, and
                    他叫 jack（他的兴趣是 睡大觉）, and
                    他叫 NoInterestSon（他没有啥兴趣）    
            他还有几个女孩：
                    jersy，以及
                    sheay    
3. YAML 的代码块，会被当成 markdown 源码块，解析成 html，然后插入：（所以这是 1~5,a~e 的一个 p 标签）

<p>1 2 3 4 5 a b c d e</p>

所以，要插入代码的话，在 yaml 里面加上 ``` 符号，于是就有：

<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="co">// 这部分 markdown 会被提前解析成 html，然后插入。</span>
<span class="ot">#include &lt;stdio.h&gt;</span>

<span class="dt">int</span> main( <span class="dt">int</span> argc, <span class="dt">char</span> **argv)
{
    <span class="dt">int</span> a = atoi( argv[<span class="dv">1</span>] );
    <span class="dt">int</span> b = atoi( argv[<span class="dv">2</span>] );
    printf( <span class="st">&quot;a + b = %d + %d = %d</span><span class="ch">\n</span><span class="st">&quot;</span>, a, b, a+b );
    <span class="kw">return</span> <span class="dv">0</span>;
}</code></pre></div>

4. 覆盖问题

标题是：【这是 md 文件里的 title（index2）】

覆盖策略似乎是 yml 中的配置内容，拥有最高权限。md 中的配置，先到先成功。

5. 脚本注入

这部分会导致到处的 json 文本出 bug。所以请，不要使用它。
在 README 中提供了代码。

6. 把配置导出成 json 格式，可以提供给 js

【
var info = {"picture":"<p>data:image/png;base64,R0lGODlhDAAMAIQAAP//9/X17unp5WZmZgAAAOfn515eXvPz7Y6OjuDg4J+fn5OTk6enp56enmlpaWNjY6Ojo4SEhP/++f/++f/++f/++f/++f/++f/++f/++f/++f/++f/++f/++f/++f/++SH+Dk1hZGUgd2l0aCBHSU1QACwAAAAADAAMAAAFLCAgjoEwnuNAFOhpEMTRiggcz4BNJHrv/zCFcLiwMWYNG84BwwEeECcgggoBADs=</p>","key":"【我是 key 的值】","files":["file1.txt","file2.txt","file3.txt"],"code":"<div class=\"sourceCode\"><pre class=\"sourceCode c\"><code class=\"sourceCode c\"><span class=\"co\">// 这部分 markdown 会被提前解析成 html，然后插入。</span>\n<span class=\"ot\">#include &lt;stdio.h&gt;</span>\n\n<span class=\"dt\">int</span> main( <span class=\"dt\">int</span> argc, <span class=\"dt\">char</span> **argv)\n{\n    <span class=\"dt\">int</span> a = atoi( argv[<span class=\"dv\">1</span>] );\n    <span class=\"dt\">int</span> b = atoi( argv[<span class=\"dv\">2</span>] );\n    printf( <span class=\"st\">&quot;a + b = %d + %d = %d</span><span class=\"ch\">\\n</span><span class=\"st\">&quot;</span>, a, b, a+b );\n    <span class=\"kw\">return</span> <span class=\"dv\">0</span>;\n}</code></pre></div>","title":"这是 md 文件里的 title（index2）","parent":{"daughter":[{"name":"jersy","interest":"打豆豆"},{"name":"sheay","interest":"吃豆豆"}],"son":[{"name":"tom","interest":"吃大餐"},{"name":"jack","interest":"睡大觉"},{"name":"NoInterestSon"}]},"part3":"part3 is working.","verbatium":"<p>1 2 3 4 5 a b c d e</p>","title2":"这是 yml 文件里的 title"};
】

这样你可以把内容用到脚本中：“document.getElementsByTagName("body")[0].innerHTML = info.code;”。

</code>
最后，markdown 本体里的内容：【【【
<p>picture: !!binary | R0lGODlhDAAMAIQAAP//9/X17unp5WZmZgAAAOfn515eXvPz7Y6OjuDg4J+fn5 OTk6enp56enmlpaWNjY6Ojo4SEhP/++f/++f/++f/++f/++f/++f/++f/++f/+ +f/++f/++f/++f/++f/++SH+Dk1hZGUgd2l0aCBHSU1QACwAAAAADAAMAAAFLC AgjoEwnuNAFOhpEMTRiggcz4BNJHrv/zCFcLiwMWYNG84BwwEeECcgggoBADs=</p>
<pre><code>这是个 yml 文件，但是没有加上“---”所以被当成普通的 md 文本。
内容会被加到 $body$ 里。</code></pre>
<p>（index2 的内容。）</p>
<p><code>file{1..6}.txt</code></p>
<p>body parts in index.md</p>
<ul>
<li>part1</li>
<li>part2</li>
<li>part3</li>
<li>part4</li>
</ul>
】】】
<script>
var info = {"picture":"<p>data:image/png;base64,R0lGODlhDAAMAIQAAP//9/X17unp5WZmZgAAAOfn515eXvPz7Y6OjuDg4J+fn5OTk6enp56enmlpaWNjY6Ojo4SEhP/++f/++f/++f/++f/++f/++f/++f/++f/++f/++f/++f/++f/++f/++SH+Dk1hZGUgd2l0aCBHSU1QACwAAAAADAAMAAAFLCAgjoEwnuNAFOhpEMTRiggcz4BNJHrv/zCFcLiwMWYNG84BwwEeECcgggoBADs=</p>","key":"【我是 key 的值】","files":["file1.txt","file2.txt","file3.txt"],"code":"<div class=\"sourceCode\"><pre class=\"sourceCode c\"><code class=\"sourceCode c\"><span class=\"co\">// 这部分 markdown 会被提前解析成 html，然后插入。</span>\n<span class=\"ot\">#include &lt;stdio.h&gt;</span>\n\n<span class=\"dt\">int</span> main( <span class=\"dt\">int</span> argc, <span class=\"dt\">char</span> **argv)\n{\n    <span class=\"dt\">int</span> a = atoi( argv[<span class=\"dv\">1</span>] );\n    <span class=\"dt\">int</span> b = atoi( argv[<span class=\"dv\">2</span>] );\n    printf( <span class=\"st\">&quot;a + b = %d + %d = %d</span><span class=\"ch\">\\n</span><span class=\"st\">&quot;</span>, a, b, a+b );\n    <span class=\"kw\">return</span> <span class=\"dv\">0</span>;\n}</code></pre></div>","title":"这是 md 文件里的 title（index2）","parent":{"daughter":[{"name":"jersy","interest":"打豆豆"},{"name":"sheay","interest":"吃豆豆"}],"son":[{"name":"tom","interest":"吃大餐"},{"name":"jack","interest":"睡大觉"},{"name":"NoInterestSon"}]},"part3":"part3 is working.","verbatium":"<p>1 2 3 4 5 a b c d e</p>","title2":"这是 yml 文件里的 title"};
</script>
</body>
</html>
